<!DOCTYPE html>
<html lang="en-US">

<head>
<title>LVS</title>
<base href="" target="_self">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="application-name" content="LVS">
<meta name="author" content="Youka">
<meta name="description" content="LVS plugin documentation.">
<meta name="keywords" content="LVS,Lua,Avisynth,VirtualDub,DirectShow,Video,Plugin,Editing,Effects,Karaoke">
<link rel="icon" type="image/png" href="LVS/LVS.png">
<style type="text/css" media="screen">
	body{
		background-color: black;
		color: #E8E8E8;
		width: 600px;
		text-align: center;
		font-size: 16px;
		margin: auto;
	}
	div.index{
		background-image: url("LVS/dark_texture.png");
		background-repeat: repeat;
		border: 8px double black;
		height: 48px;
		overflow: hidden;
	}
	h1, h2{
		font-weight: bold;
		color: white;
		text-shadow: 4px 4px 2px black;
	}
	h1{
		cursor: pointer;
		font-family: Comic Sans MS;
		font-size: 30px;
		margin: 0px 0px 10px 0px;
	}
	span{
		text-align: left;
		padding-left: 20px;
		display: block;
	}
	h2{
		font-size: 18px;
		text-decoration: underline;
		margin: 10px 0px 0px -10px;
	}
	ol{
		margin: 0px 0px 0px 0px;
		text-align: left;
	}
	code{
		font-family: Arial;
		font-size: 14px;
		display: inline-block;
		white-space: pre;
		padding: 3px;
		border: 3px solid black;
		background-color: #F0F0F0;
		color: black;
	}
	a{
		cursor: pointer;
		color: #E8E8E8;
		text-decoration: none;
		font-style: italic;
	}
	a.intern{
		font-family: Arial;
		font-size: 18px;
		font-style: normal;
	}
	a:hover{
		color: white;
		text-shadow: 0px 0px 2px white;
	}
</style>
<script type="text/javascript">
	var default_height;
	function fold(elem){
		var height = elem.parentNode.style.height;
		if(default_height == null)
			default_height = height;
		elem.parentNode.style.height = height == "100%" ? default_height : "100%";
	}
	function generateLinkList(){
		var content = "<ol style='margin-left: 200px;'>",
			entries = Math.floor(arguments.length / 2);
		for(var i = 0; i < entries; i++)
			content += "<li><a class='intern' href='" + arguments[i*2+1] + "' target='_blank'>" + arguments[i*2] + "</a></li>";
		content += "</ol>";
		document.write(content);
	}
</script>
</head>

<body>
<img src="LVS/LVS.png">
<div class="index">
<h1 onclick="fold(this);">Definition</h1>
<span>
<h2>"LVS"</h2>
<b>LVS</b> (Lua Video Sync) is a <a href="http://en.wikipedia.org/wiki/Frameserver" target="_blank">video frameserver</a> plugin to edit video frames with the capability of 
<a href="http://en.wikipedia.org/wiki/Lua_%28programming_language%29" target="_blank">scripting language Lua</a> + <a href="http://en.wikipedia.org/wiki/2D_computer_graphics" target="_blank">2D image processing</a> functionality.
<h2>Purpose</h2>
LVS allows linear video frame editing by writing scripts. This gives users more control than a function-limited GUI and encourages creativity.
<h2>Plugin interfaces</h2>
Plugin interfaces for frameserver application <a href="http://en.wikipedia.org/wiki/Avisynth" target="_blank">Avisynth</a> and <a href="http://en.wikipedia.org/wiki/DirectShow" target="_blank">DirectShow</a> 
and video editor <a href="http://en.wikipedia.org/wiki/VirtualDub" target="_blank">VirtualDub</a> are available.
<h2>Workflow</h2>
<ol>
<li>Load <b>LVS.dll</b> into your application.</li>
<li>Configure LVS to load a <b>.lua</b> script for frame editing.</li>
<li>Write the script (see 2.).</li>
<li>Play or encode the resulting video.</li>
</ol>
</span>
</div>
<div class="index">
<h1 onclick="fold(this);">Usage</h1>
<span>
<h2>Avisynth</h2>
<code>LoadPlugin("E:\PROJEKTE\LVS\release\LVS.dll")

BlankClip()
LVS(video = "test_video.lua", audio = "test_audio.lua")</code>
<h2>VirtualDub</h2>
<img src="LVS/vdub.png" alt="VirtualDub - LVS filter" />
<h2>DirectShow</h2>
<img src="LVS/dshow.png" alt="DirectShow - LVS filter" />
<h2>Getting started</h2>
A script creation begins with defining the required callback function for streaming data.<br/>
<br/>
For frame editing, the callback function is <b>GetFrame(frame, frame_i)</b>.<br/>
<b>frame</b> is an image object (see <a href="LVS/ext.html#g2d.create_image" target=_blank>g2d image</a>), containing a reference to the current frame data.<br/>
<b>frame_i</b> is the current frame number.<br/>
<br/>
For audio editing, the callback function is <b>GetSamples(samples, samples_n, start_sample_i)</b>.<br/>
<b>samples</b> is a numbers table, containing a reference to samples of all channels of current time.<br/>
<b>samples_n</b> is the table size of last argument.<br/>
<b>start_sample_i</b> is the global sample index (for all channels) of the first gotten sample.<br/>
<br/>
See into the <b>examples</b> folder for commented scripts. This, in combination with reading the references, is the best way to learn.
</span>
</div>
<div class="index">
<h1 onclick="fold(this);">References</h1>
<script type="text/javascript">
generateLinkList("Lua 5.2", "Lua_5.2/Lua 5.2 Reference Manual.htm",
			"Lua extensions", "LVS/ext.html",
			"ASS", "LVS/ass.html");
</script>
</div>
</body>

</html>